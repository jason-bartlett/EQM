"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const metadata_loaders_1 = require("./metadata-loaders");
function makeQueryResolver(queryMap = metadata_loaders_1.loadQueries(), superTypeMap = metadata_loaders_1.loadSuperTypes()) {
    return (queryName, qualifiedStructureName) => {
        let currentQSN = qualifiedStructureName;
        while (!(
        /* stop: */ currentQSN === undefined || (queryMap[currentQSN] && queryMap[currentQSN][queryName]))) {
            currentQSN = superTypeMap[currentQSN];
        }
        return (currentQSN && queryMap[currentQSN] && queryMap[currentQSN][queryName])
            ? queryMap[currentQSN][queryName]
            : undefined;
    };
}
exports.makeQueryResolver = makeQueryResolver;
//# sourceMappingURL=queries.js.map